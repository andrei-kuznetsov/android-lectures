# Лабораторная работа №4. RecyclerView.

## Цели
1. Ознакомиться с принципами работы adapter-based views.
1. Получить практические навки разработки адаптеров для view

## Задачи

В вашем распоряжении имеется [библиотека](biblib), предоставляющая программный доступ к записям в формате [bibtex](http://www.bibtex.org). Библиотека имеет 2 режима работы: normal и strict. В strict mode работает искусственное ограничение: в памяти нельзя хранить более `name.ank.lab4.BibConfig#maxValid=20` записей одновременно. При извлечении `maxValid+1`й записи 1я извелеченная запись становится невалидной (при доступе к полям кидаются исключения). Это ограничение позволит быстрее выявлять ошибки при работе с `RecyclerView` и адаптерами.

### Задача 1. Знакомсотво с библиотекой (unit test)
Ознакомьтесь со strict mode библиотеки, проиллюстрировав его работу unit-тестом.

#### Указания
1. Изучите демонстрационное предложенную [библиотеку](biblib), уделите особое внимание файлу [BibDatabaseTest.java](biblib/src/test/java/name/ank/lab4/BibDatabaseTest.java). В этом файле тестируется (демонстрируется) создание библиотеки (см. `setup()`), чтение одной записи (см. `getFirstEntry()`) и normal (не strict) mode (см. `normalModeDoesNotThrowException()`). Посмотрите на пример [исходных данных](biblib/src/test/resources/references.bib), при необходимости загляните [внутрь библиотеки](biblib/src/main/java/name/ank/lab4).
1. Напишите несколько тестов с помощью которых вы можете сами себя проверить, что правильно поняли, как работает флаг `BibConfig#strict` и `BibConfig#shuffle` (в `BibDatabaseTest.java` оставлены шаблоны методов).
1. Соберите jar файл используя команду `./gradlew build`. Результаты сборки будут доступны по пути `build/libs/biblib.jar`. Обратите внимание, что сборка завершится ошибкой, если какие-либо тесты не проходят.

### Задача 2. Знакомство с RecyclerView.
Напишите Android приложение, которое выводит все записи из bibtex файла на экран, используя предложенную библиотеку и `RecyclerView`. На выбор предлагается решить одну из двух задач: 

#### Задача 2.1. Однородный список (задача обычной сложности).
В качестве исходных данных используйте файл http://www.physics.rutgers.edu/~kotliar/thesis/Thesis/BibTex/articles.bib . Обратите внимание, что все записи имеют одинаковый формат (@article).

#### Задача 2.2*. Неоднородный список (задача повышенной сложности).
В качестве исходных данных используйте файл http://www.ilc.cnr.it/~ferro/tmp/publications_ferro.en.bib . Обратите внимание, что записи имеют разный формат (@article, @misc, @inproceedings, etc). Используйте разное визуальное отображение для записей разного типа.


#### Пояснения
1. При выводе записей не обязательно выводить все поля. Придумайте некоторый "адекватный" формат отображения данных. Выбор формата отображения поясните в отчете.
1. Записи можно выводить списком (list), сеткой (grid) или любым другим способом.

#### Указания
1. Файлы с исходными данными скачайте и разместите в ресурсы приложения (`raw` ресурс).
1. Подключите библиотеку как зависимость на прекомпилированный jar файл (https://developer.android.com/studio/projects/android-library#AddDependency).
1. Ознакомьтесь с описанием RecyclerView (https://developer.android.com/guide/topics/ui/layout/recyclerview) и решите выбранную задачу. 

### Задача 3. Бесконечный список.
Сделайте список из предыдущей задачи бесконечным: после последнего элемента все записи повторяются, начиная с первой. 

#### Указания
1. Модифицируйте код адаптера так, чтобы добиться желаемого поведения приложения

# Отчет
Отчет должен содержать формулировку целей, решения задач с ответами на дополнительные вопросы из раздела «указания», выводы. Выводы должны содержать убедительное обоснование, почему автор отчета считает, что все цели были достигнуты. Например, обоснование может включать краткую информацию о том, как достигалась каждая из поставленных целей.

В отчете укажите примерное время решения каждой из предложенных задач, включая время ознакомления со справочными материалами (время решения не влияет на оценку: только на анонимный сбор статистики для корректировки сложности задач в будущем).

# Вспомогательные материалы
## Основные
1. https://developer.android.com/guide/topics/ui/layout/recyclerview
1. https://www.udacity.com/course/developing-android-apps-with-kotlin--ud9012 (Lesson 7: RecyclerView)

## Дополнительные (на русском языке)
1. 
